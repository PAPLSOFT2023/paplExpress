<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<div class="container">
  <header class="header">
    <h1>Organization Master</h1>
    <div class="search-box">
      <button class="btn-search"><i class="fas fa-search"></i></button>
      <input type="text" class="input-search" placeholder="Type to Search..." />
    </div>
  </header>

  <main class="content">
    <h2>Organization Master</h2>
    <br />
    <hr />
    <br />

    <!-- Add Organization Button -->
    <div class="add-user-container">
      <button class="add-user-button" (click)="openPopup()">
        <i class="fas fa-plus"></i>Add Organization
      </button>
    </div>

    <!-- Display Organizations in a Table -->
    <div class="table-responsive">
      <table class="styled-table">
        <thead>
          <tr>
            <th>S.NO</th>
            <th>Organization Name</th>
            <th>ACTION</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let org of organizations; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ org.organization_name }}</td>
            <td>
              <button class="edit-btn" (click)="openEditPopup(org)">
                <i class="fas fa-edit" title="EDIT"></i>
              </button>
              <button class="delete-btn" (click)="deleteOrganization(org.id)">
                <i class="fas fa-trash-alt" title="DELETE"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

   <!-- Add/Edit Popup -->
<div class="popup-container" *ngIf="isPopupVisible || isEditPopupVisible">
  <div class="popup-content">
    <h2 class="popup-title" style="color: black;">
      {{ isEditPopupVisible ? 'Edit Organization' : 'Add Organization' }}
    </h2>
    <i class="fa fa-times cancel-icon" (click)="closePopup()"></i>

    <form (ngSubmit)="isEditPopupVisible ? updateOrganization() : addOrganization()">
      <label for="orgName">{{ isEditPopupVisible ? 'Edit' : 'Add' }} Organization Name:</label>
      <input
        type="text"
        id="orgName"
        [(ngModel)]="organizationName"
        name="orgName"
        placeholder="Enter organization name"
        required
      />

      <div class="popup-buttons33">
        <button type="submit" class="confirm">
          <i class="fa fa-check"></i> {{ isEditPopupVisible ? 'Update' : 'Add' }} Organization
        </button>
      </div>
    </form>
  </div>
</div>




<!-- <div class="wrapper">
  <h2>Organization Master</h2>
  <div class="container">
    <label for="orgName">Organization Name:</label>
    <input [(ngModel)]="organizationName" id="orgName" />
    <button (click)="addOrganization()">Add Organization</button>
  </div>

  <div class="list-container">
    <h3>Existing Organizations</h3>
    <ul>
      <li *ngFor="let org of organizations; let i = index">
        <span>{{ i + 1 }}. {{ org.organization_name }}</span>
        <button (click)="setUpdateOrganization(org)">Edit</button>
        <button (click)="deleteOrganization(org.id)">Delete</button>
      </li>
    </ul>
  </div>
</div>


<div *ngIf="isUpdating" class="modal">
  <div class="modal-content">
    <h3>Update Organization</h3>
    <label for="updateOrgName">New Organization Name:</label>
    <input [(ngModel)]="updateOrganizationName" id="updateOrgName" />
    <button (click)="updateOrganization()">Update Organization</button>
    <button (click)="cancelUpdate()">Cancel</button>
  </div>
</div> -->









